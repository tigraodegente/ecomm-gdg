---
import { actions } from "astro:actions";
import { setAuthCookiesFromResponse } from "@/actions/auth";

const result = await Astro.callAction(actions.auth.signOut, new FormData());

if (result?.data?.success) {
  setAuthCookiesFromResponse(result.data.cookiesToSet, Astro.cookies);
}

return Astro.redirect("/sign-in");
---
